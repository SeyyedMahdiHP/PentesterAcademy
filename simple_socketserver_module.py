# seyyedMahdi Hassanpour
# smahdi1991@gmail.com
import socketserver  # in python 2 it is camlecase: SocketServer


class Class_handle_requests(socketserver.BaseRequestHandler):
    def handle(self):
        print("accept connection from:")
        print(self.client_address)
        data = "hello:"
        while len(data):
            data = self.request.recv(1024)
            print(data)
            self.request.send(data)
        print("client left")


echo_server_using_socketserver_module = socketserver.TCPServer(("0.0.0.0", 1010), Class_handle_requests)
echo_server_using_socketserver_module.serve_forever()
