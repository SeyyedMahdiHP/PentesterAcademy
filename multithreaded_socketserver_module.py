# seyyedMahdi Hassanpour
# smahdi1991@gmail.com
import socketserver  # in python 2 it is camlecase: SocketServer
import threading


def handle_client(object):
    print("accept connection from:")
    print(object.client_address)
    data = "hello:"
    while len(data):
        data = object.request.recv(1024)
        print(data)
        object.request.send(data)
    print("client left")


class Class_handle_requests(socketserver.BaseRequestHandler):
    def handle(self):
       # thread_server = threading.Thread(target=handle_client, args=(self,))
        #thread_server.start()



echo_server_using_socketserver_module = socketserver.TCPServer(("0.0.0.0", 1010), Class_handle_requests)
echo_server_using_socketserver_module.serve_forever()
